= simple_form_for @recipe, html: { multipart: true, class: 'form-horizontal' } do |f|

  .control-group.fieldset
    %legend Basic Info
    .controls
      = f.input :name
      = f.input :difficulty, collection: Recipe.difficulty_levels, default: 1

  .control-group.fieldset
    %legend Picture
    .controls
      = f.input :picture, as: :picture

  .control-group.fieldset
    %legend Categories
    .controls
      = f.association :categories, collection: Category.order(:name).load, input_html: { rel: 'tooltip', 'data-toogle' => 'tooltip', 'data-placement' => 'right', 'data-original-title' => 'Select one or multiple categories from the list'}
      = text_field_tag :'extra-category', nil, placeholder: 'Extra: Category1, Category2, Category3', class: 'controls string', rel: 'tooltip', 'data-toggle' => 'tooltip', 'data-placement' => 'right', 'data-original-title' => 'Add extra categories by writing them here'

  .control-group.fieldset
    %legend Steps
    .controls
      = link_to '#', class: 'controls btn btn-success', 'data-toggle' => 'modal', 'data-target' => '#add-step' do
        %i.icon-plus-sign.icon-white
        Add Step

  #steps
    = f.hidden_field :steps
    .accordion.controls

  .control-group
    .controls
      = button_tag type: :submit, class: 'controls btn btn-primary' do
        %i.icon-ok.icon-white
        Save
      = link_to recipes_path, class: 'btn' do
        %i.icon-remove
        Back

= render 'create_step'

= render 'step_template'
